@model IEnumerable<LoginPasswordd>

@{
    ViewData["Title"] = "Index";
}


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    int a = Model.Count();
    int i = 0;
    int id = 0;
    LoginPasswordEnum Role;
}

<h2 style=" margin-top: 0.32rem; font-size: 2rem; font-weight: 700; text-transform: capitalize; color: #05364d; ">Index</h2>

<a asp-controller="Home" asp-action="Create" class="btn btn-outline-success mt-2 mb-2">Create New</a>
<a asp-controller="Home" asp-action="MessageRead" class="btn btn-outline-primary mt-2 mb-2">Message</a>

<table class="table table-dark table-striped-columns">
    <tr>
        <th>
            Id
        </th>
        <th>
            Login
        </th>
        <th>
            Password
        </th>
        <th>
            Role
        </th>
        <th></th>
    </tr>
    @foreach (var item in Model)
    {
        id = @item.Id;
        Role = item.Role;
    }

    @foreach (var item in Model)
    {
        if (i < a - 1)
        {
            if (@item.Id == a - 1) { i++; }
            <tr>
                <td>
                    @item.Id
                </td>
                <td>
                    @item.Login
                </td>
                <td>
                    @item.Password
                </td>
                <td>
                    @item.Role
                </td>
                <td>
                    <div class="btn-group">
                        @{
                            if (item.Id == id || item.Role == LoginPasswordEnum.User || item.Role == LoginPasswordEnum.adminUser)
                            {
                                <a asp-controller="Home" asp-action="Update" asp-route-Id="@item.Id" class="btn btn-warning mr-1" style="width:100px">Update</a>
                                <a asp-controller="Home" asp-action="Detail" asp-route-Id="@item.Id" class="btn btn-info mr-1" style="width:100px">View</a>
                                <a asp-controller="Home" asp-action="Delete" asp-route-Id="@item.Id" class="btn btn-danger" style="width:100px">Delete</a>
                            }
                        }

                    </div>
                </td>
            </tr>
        }
        i++;
    }

</table>
